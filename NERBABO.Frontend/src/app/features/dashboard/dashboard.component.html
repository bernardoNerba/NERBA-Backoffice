<div class="container-fluid">
  <div class="row align-items-center">
    <div class="col-8">
      <h3 class="text-truncate mb-1">
        {{ title }}
      </h3>
    </div>
  </div>
</div>
<div class="container-fluid p-1">
  <div class="row g-3 mb-4">
    <!-- First Row - 3 small KPI cards + 1 medium -->
    <!-- KPIS -->
    <div class="col-12 col-sm-6 col-md-3 col-lg-6">
      <div class="kpi">
        <app-kpi-card
          title="Total Formandos"
          [value]="dashboardKpis.totalStudents"
          icon="pi pi-users"
        />
      </div>
      <div class="kpi">
        <app-kpi-card
          title="Certificados"
          [value]="dashboardKpis.totalApproved"
          icon="pi pi-verified"
        />
      </div>
      <div class="kpi">
        <app-kpi-card
          title="Volume (dias)"
          [value]="dashboardKpis.totalVolumeDays"
          icon="pi pi-calendar"
        />
      </div>
    </div>

    <!-- Top 5 Companies Card -->
    <div class="col-12 col-sm-6 col-md-3 col-lg-6">
      <div class="card shadow border h-100" style="min-height: 150px">
        <div class="card-body">
          <h6 class="color-secondary mb-3">Top 5 Empresas</h6>
          <div class="list-group list-group-flush">
            @for (company of top5Companies; track company.name) {
            <div
              class="d-flex justify-content-between align-items-center py-2 border-bottom"
            >
              <span class="text-truncate me-2">{{ company.name }}</span>
              <span class="badge bg-primary rounded-pill">{{
                company.count
              }}</span>
            </div>
            }
          </div>
        </div>
      </div>
    </div>

    <!-- Third Row - Charts -->
    <div class="col-12 col-lg-12">
      <!--  Chart -->
      <div class="card shadow border" style="height: 250px">
        <div class="card-body d-flex flex-column h-100">
          <app-year-students-education-lvl-chart
            class="flex-grow-1 d-flex flex-column"
          />
        </div>
      </div>
    </div>

    <div class="col-12 col-lg-6">
      <!--  Chart -->
      <div class="card shadow border" style="height: 420px">
        <div class="card-body d-flex flex-column h-100">
          <app-year-students-result-chart
            class="flex-grow-1 d-flex flex-column"
          />
        </div>
      </div>
    </div>

    <div class="col-12 col-lg-6">
      <!--  Chart -->
      <div class="card shadow border" style="height: 420px">
        <div class="card-body d-flex flex-column h-100">
          <app-total-action-lvl-chart class="flex-grow-1 d-flex flex-column" />
        </div>
      </div>
    </div>

    <!-- Second Row - Charts -->
    <div class="col-12 col-lg-12">
      <!--  Chart -->
      <div class="card shadow border" style="height: 250px">
        <div class="card-body d-flex flex-column h-100">
          <app-year-students-sex-chart class="flex-grow-1 d-flex flex-column" />
        </div>
      </div>
    </div>
  </div>
</div>
